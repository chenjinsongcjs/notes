# Shell变量

## 变量介绍

```纯文本
 在编程中，我们总有一些数据需要临时存放在内存，以待后续使用时快速读出。内存在系统启动的时候被按照1B一个单位划分为若干个块，然后统一编号(16进制编号)，并对内存的使用情况做记录，保存在内存跟踪表中。
```

-   计算机的单位

```bash
1B=8bit
1KB=1024B
1MB=1024KB
1GB=1024MB
1TB=1024GB
1PB=1024TB
1EB=1024PB
1ZB=1024EB
......
```

-   变量：变量是编程中最常用的一种临时在内存中存取数据的一种方式。

```bash
理解变量存储：STRING1="ABC"
1）STRING1(逻辑地址) <===> 0X5...0X8(物理地址)      存取数据 ABC
STRING1是给人看的，方便人记忆；
0x5...0x8是内存物理地址，是计算机寻址的依据；
2）对于人来说STRING1上存的数据是ABC，对于计算机来说数据是存在物理地址上的；
3）在建立变量的时候计算机自动将逻辑地址(变量名)和物理地址做了对应。
变量读出
1）当调用STRING1的时候，计算机会根据对应关系，找到物理地址
2）定位内存地址，读出数据并返回
```

## 变量分类

1.  本地变量：用户私有变量，只有本用户可以使用，保存在家目录下的`.bash_profile`、`.bashrc`文件中
2.  全局变量：所有用户都可以使用，保存在`/etc/profile`、`/etc/bashrc`文件中，使用`export`标识
3.  用户自定义变量：用户自定义，比如脚本中的变量

## 定义变量

> 变量定义格式：变量名=值

-   在shell中变量名和值与等号之间不能有空格
-   变量的命名规则
    1.  命名只能使用英文字母，数字和下划线，首个字符不能以数字开头。
    2.  中间不能有空格，可以使用下划线（ \_）。
    3.  不能使用标点符号。
    4.  不能使用bash里的关键字（可用help命令查看保留关键字）。

```bash
age=18
name="张三 "
注：字符串使用单引号或者双引号括起来
```

-   在控制台定义的变量为本地变量只能当前用户访问且是临时的。
-   在配置文件中定义的可以伴随着开机自动加载

## 读取变量的内容

> 读取变量内容的符号：\$

> 读取方法：\$变量名

```bash
echo $age
18
echo $name
张三
```

## 取消变量

```bash
unset 变量名
```

## 定义全局变量

```bash
export name="李四"
#上述设置的变量其实都是一次性变量，系统重启就会丢失。
#如果希望本地变量或者全局变量可以永久使用，可以将需要设置的变量写入变量文件中即可。

```

## 定义永久变量

```bash
#本地变量：用户私有变量，只有本用户可以使用，保存在家目录下的.bash_profile、.bashrc文件中
#全局变量：所有用户都可以使用，保存在/etc/profile、/etc/bashrc文件中
#本地变量
tail -1 ~/.bash_profile
name='baism'
#全局变量
tail -1 /etc/profile
export age=30
```
